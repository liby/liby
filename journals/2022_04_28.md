- 最近工作上比较忙，一直没闲下来，今天算是告一段落，顺便发推做了一番「[天问](https://twitter.com/meetliby/status/1519614620956520448)」
	- 这次的做的需求中，有这么一个逻辑：后端需要前端在发起 Post 的时候传递一个 ID，这个 ID 要求唯一（没有被绑定过），那么前端就要从接口数据中做筛选，看这个 ID 有没有被用到，用到就要换一个，如果没有可用的 ID，那就隐藏添加按钮，自然也就无法发起 Post 请求
	- 实现过程略过不讲，可以说踩坑无数，写了自己都不忍直视的脏代码，而且最后都不知道怎么能 Work 的，毕竟在发起 Post 请求之前，要取接口数据做过滤，拿到结果再 `setState` 更新，以便 Create 的时候能拿到符合条件的 ID（是一个数组类型的 `state`，默认取第 1 个）。
		- #question 按理说这次 create 的时候是拿不到刚刚 `setState` 的值的，它拿到的一定是之前的 `state`，但它就是神奇的工作了，不清楚是哪部分代码导致的，这里等我心情平复以后，一定要搞搞清楚
	- 后面没忍住跟后端讲了一下：这部分最好在 Post 的时候前端不传这个 ID，改由后端直接返回，后端来确定唯一性最靠谱；且前端也根本确定不了唯一性，后端还是要对它做验证
		- 最后以「如果后端通过条件筛选找不到可用的值也就意味着前端请求了但是会得到一个错误，所以也不是很合适」为由拒绝了我
		- 当然我个人是完全不认同这个说法的，如果该报错，那一定会报错，不能因噎废食吧；并且前端来做这个事情，报错的几率更大，比如用户多 Tab 操作
		- 且前端也会做过滤的，如果没有符合条件的 ID，会隐藏添加入口；当然这并不能阻止边缘情况，还是要后端验证，在这种时候报错是必然的。在我看来，后端做这件事没那么 “脏”，前端处理起来就要写很多“脏代码”
		- 后端最后又说了一番架构的说辞，心累：
		  > 后端也写了很多判断代码，互相依赖和关系太多，需求在变复杂，我们之后遇到这样的问题如果越来越多，意味着我们的架构已经无法满足产品迭代；最好的方法是升级架构，以适应如此复杂的需求；我们也讨厌写一锅面条一样的代码